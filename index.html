<!DOCTYPE html>
<html>
	<head>
		<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
		<title>Is it 4 AM in Finland yet?</title>
		<style>
		*{
			font-family: 'Lato', sans-serif;
		}
		body
		{
			padding-top: 4%;
			text-align: center;
			background-image: url("gray_jean.png");
			color: #7d6f60;
    		background-repeat: repeat;
		}
		big{
			font-size:120px;
			text-shadow: 2px 2px 3px #CCC;
		}
		img{
			padding-top: 30px;
		}
		</style>
	</head>
	<body>
		<center>
			<h1>Is it 4 AM in Finland yet?</h1>
			<big id="content"></big>
		</center>

		<script>
		// lifted from http://stackoverflow.com/a/11888430
		Date.prototype.stdTimezoneOffset = function() {
		    var jan = new Date(this.getFullYear(), 0, 1);
		    var jul = new Date(this.getFullYear(), 6, 1);
		    return Math.max(jan.getTimezoneOffset(), jul.getTimezoneOffset());
		}

		Date.prototype.dst = function() {
		    return this.getTimezoneOffset() < this.stdTimezoneOffset();
		}
		var d = new Date();
		var fi = d.getUTCHours() + (d.dst() ? 3 : 2); // UTC+3 if dst, +2 otherwise.
		var text = '';
		if(fi === 4)
			text = "Yes. Torilla tavataan!<br/><img src=\"img.jpeg\">";
		else{
			text = "No. It's ";
			if(fi <= 12)
				text += fi;
			else
				text += (fi - 12);
			text += (fi < 12 ? ' am.' : ' pm.');
		}
		document.getElementById("content").innerHTML = text;
		</script>
	</body>
</html>
